@@include('partials/head.html')


<div class="wrapper">

  <div class="wrapper__container">
    @@include('partials/sidebar.html')
    <main class="content">
      <h1>Technical documentation</h1>

      <h2 data-anchords="general-information">General information</h2>
      <p>Passwork is not resource-intensive. The amount of resources (RAM, CPU, HDD) and the number of servers required
        depend on the number of active users.</p>
      <blockquote>ðŸ’¡ The IOPS value is very important for the speed of the database, so it is advisable to use SSD
        disks.</blockquote>

      <h2 data-anchords="single-server">1. Single server</h2>
      <p>Usually suitable for editions up to 500 users, with no special data storage requirements:</p>
      <table>
        <thead>
          <tr>
            <th>Number of users</th>
            <th>RAM</th>
            <th>CPU</th>
            <th>HDD</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>up to 50</td>
            <td>2â€“4 GB</td>
            <td>4</td>
            <td>100 GB</td>
          </tr>
          <tr>
            <td>up to 100</td>
            <td>4â€“8 GB</td>
            <td>8</td>
            <td>150 GB</td>
          </tr>
          <tr>
            <td>up to 500</td>
            <td>8â€“16 GB</td>
            <td>8</td>
            <td>200 GB</td>
          </tr>
        </tbody>
      </table>

      <h2 data-anchords="manual-installation">Manual installation</h2>
      <span>Manual installation does not use Docker or Windows installer. It is suitable for
        complex cases where you need to fine-tune all components.</span>
      <p>Path to the current configuration file â€”
        <span>C:\inetpub\wwwroot\app\config\config.ini</span>
      </p>

      <h2 data-anchords="different-servers">2. Different servers for application and database
      </h2>
      <p>The database and the application server are distributed to different servers.</p>
      <ul>
        <li>RAM-1, CPU-1, HDD-1 â€” application server.</li>
        <li>RAM-2, CPU-2, HDD-2 â€” database.</li>
      </ul>
      <p>The MongoDB database can operate in a "cluster" mode.</p>
      <ol>
        <li>Master â€” the main server;</li>
        <li>Replica â€” a server with a copy of the data;</li>
        <li>Arbiter â€” a special server that ensures the correctness of the voting process, when selecting the master
          base.</li>
      </ol>

      <h2 data-anchords="general-requirements">General description and requirements</h2>
      <p>The Passwork Setup installer helps you install Passwork on Windows and then keep it up to date.</p>
      <ul>
        <li>Operating systems â€” Windows Server 2016, 2019, 2022</li>
        <li><a href="#">Microsoft .Net Framework 4.8</a> (download and install)</li>
      </ul>

      <h2 data-anchords="main-features">Main features</h2>
      <a href="#">Installation on a new server</a>
      <a href="#">Migration (if Passwork is already installed on your server)</a>
    </main>


    <div id="anchors" class="anchors"></div>
  </div>


</div>
</div>



<script>
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const root = document.documentElement;
  const btnLight = document.getElementById('theme-light');
  const btnDark = document.getElementById('theme-dark');

  // Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ñ‚ÐµÐ¼Ð¸
  function setTheme(theme) {
    if (theme === 'dark') {
      root.classList.add('dark');
      localStorage.setItem('theme', 'dark');
      btnDark.style.display = 'none';
      btnLight.style.display = 'inline-block';
    } else {
      root.classList.remove('dark');
      localStorage.setItem('theme', 'light');
      btnLight.style.display = 'none';
      btnDark.style.display = 'inline-block';
    }
  }

  // ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÑ…Ð¾Ð²Ð¸Ñ‰Ð° Ð°Ð±Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ñ— Ñ‚ÐµÐ¼Ð¸
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    setTheme(savedTheme);
  } else {
    setTheme(prefersDark ? 'dark' : 'light');
  }

  // ÐžÐ±Ñ€Ð¾Ð±Ð½Ð¸ÐºÐ¸
  btnLight.addEventListener('click', () => setTheme('light'));
  btnDark.addEventListener('click', () => setTheme('dark'));


  // -----------------
  document.addEventListener('DOMContentLoaded', () => {
    const anchorsContainer = document.getElementById('anchors'); // ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð´Ð»Ñ ÑÐºÐ¾Ñ€Ñ–Ð²
    const headings = document.querySelectorAll('[data-anchords]'); // Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð· Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ð¾Ð¼ data-anchords

    // Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾ ÐºÐ¾Ð¶ÐµÐ½ ÑÐºÐ¾Ñ€ Ð´Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
    headings.forEach(heading => {
      // ÐŸÑ€Ð¸ÑÐ²Ð¾ÑŽÑ”Ð¼Ð¾ id Ð´Ð»Ñ ÐºÐ¾Ð¶Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°
      const anchorId = heading.getAttribute('data-anchords');
      heading.id = anchorId;

      const anchorLink = document.createElement('a');
      anchorLink.classList.add('anchors__item'); // Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾ ÐºÐ»Ð°Ñ Ð·Ð° Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ñ–Ñ”ÑŽ BEM
      anchorLink.href = `#${anchorId}`;
      anchorLink.textContent = heading.textContent;

      // Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾ ÐºÐ»Ñ–ÐºÐ°Ð±ÐµÐ»ÑŒÐ½Ð¸Ð¹ ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð´Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
      anchorsContainer.appendChild(anchorLink);
    });

    // ÐžÐ±Ñ€Ð¾Ð±Ð½Ð¸Ðº Ð¿Ð¾Ð´Ñ–Ñ— Ð´Ð»Ñ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ñ–Ñ— ÑÐºÐ¾Ñ€Ñ–Ð² Ð¿Ñ€Ð¸ Ð½Ð°Ñ‚Ð¸ÑÐºÐ°Ð½Ð½Ñ–
    anchorsContainer.addEventListener('click', (e) => {
      if (e.target && e.target.tagName === 'A') {
        // Ð’Ð¸Ð´Ð°Ð»ÑÑ”Ð¼Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ ÐºÐ»Ð°Ñ Ð· ÑƒÑÑ–Ñ… ÑÐºÐ¾Ñ€Ñ–Ð²
        const allAnchors = anchorsContainer.querySelectorAll('.anchors__item');
        allAnchors.forEach(anchor => anchor.classList.remove('anchors__item--active'));

        // Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ ÐºÐ»Ð°Ñ Ð´Ð»Ñ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ð¾Ð³Ð¾ ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°
        e.target.classList.add('anchors__item--active');

        // ÐŸÐµÑ€ÐµÑˆÐºÐ¾Ð´Ð¶Ð°Ñ”Ð¼Ð¾ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ–Ð¹ Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½Ñ†Ñ– Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ñƒ Ð·Ð° Ñ…ÐµÑˆÐµÐ¼
        e.preventDefault();

        // Ð—Ð¼Ñ–Ð½Ð° Ñ…ÐµÑˆÑƒ Ð² URL (Ð½Ðµ Ð²Ñ–Ð´Ð±ÑƒÐ²Ð°Ñ”Ñ‚ÑŒÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¸Ð¹ Ð¿ÐµÑ€ÐµÑ…Ñ–Ð´)
        const targetId = e.target.getAttribute('href').substring(1); // ÐžÑ‚Ñ€Ð¸Ð¼ÑƒÑ”Ð¼Ð¾ id Ñ†Ñ–Ð»ÑŒÐ¾Ð²Ð¾Ð³Ð¾ ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          // Ð’Ð¸ÐºÐ¾Ð½Ð°Ñ‚Ð¸ Ð¿Ð»Ð°Ð²Ð½Ð¸Ð¹ ÑÐºÑ€Ð¾Ð»Ñ–Ð½Ð³ Ð´Ð¾ ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°
          window.scrollTo({
            top: targetElement.offsetTop - 50, // Ð”Ð»Ñ ÐºÐ¾Ð¼Ð¿ÐµÐ½ÑÐ°Ñ†Ñ–Ñ— Ð²Ð¸ÑÐ¾Ñ‚Ð¸ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÑƒ
            behavior: 'smooth'
          });

          // ÐžÐ½Ð¾Ð²Ð»ÑŽÑ”Ð¼Ð¾ Ñ…ÐµÑˆ Ð² URL Ð²Ñ€ÑƒÑ‡Ð½Ñƒ (Ñ†Ðµ Ð½Ðµ Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ” Ð¿ÐµÑ€ÐµÐ·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ)
          history.pushState(null, null, `#${targetId}`);
        }
      }
    });

    // Ð—Ð°Ð´Ð°Ñ”Ð¼Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ ÐºÐ»Ð°Ñ Ð´Ð»Ñ ÑÐºÐ¾Ñ€Ñ, Ñ‰Ð¾ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ” Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ñ–Ð¹ Ð²Ð¸Ð´Ð¸Ð¼Ñ–Ð¹ ÑÐµÐºÑ†Ñ–Ñ—
    window.addEventListener('scroll', () => {
      let currentSection = null;
      headings.forEach(heading => {
        const sectionTop = heading.offsetTop;
        const sectionHeight = heading.offsetHeight;
        if (window.scrollY >= sectionTop - 50 && window.scrollY < sectionTop + sectionHeight) {
          currentSection = heading.getAttribute('data-anchords');
        }
      });

      // ÐžÐ½Ð¾Ð²Ð»ÑŽÑ”Ð¼Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ ÐºÐ»Ð°Ñ Ñƒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ–
      const activeLink = anchorsContainer.querySelector(`a[href="#${currentSection}"]`);
      if (activeLink) {
        const allAnchors = anchorsContainer.querySelectorAll('.anchors__item');
        allAnchors.forEach(anchor => anchor.classList.remove('anchors__item--active'));
        activeLink.classList.add('anchors__item--active');
      }
    });
  });





</script>

@@include('partials/footer.html')