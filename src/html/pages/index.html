@@include('partials/head.html')


<div class="wrapper">

  <div class="wrapper__container">
    @@include('partials/sidebar.html')
    <main class="content">
      <h1>Technical documentation</h1>

      <h2 data-anchords="general-information">General information</h2>
      <p>Passwork is not resource-intensive. The amount of resources (RAM, CPU, HDD) and the number of servers required
        depend on the number of active users.</p>
      <blockquote>üí° The IOPS value is very important for the speed of the database, so it is advisable to use SSD
        disks.</blockquote>

      <h2 data-anchords="single-server">1. Single server</h2>
      <p>Usually suitable for editions up to 500 users, with no special data storage requirements:</p>
      <table>
        <thead>
          <tr>
            <th>Number of users</th>
            <th>RAM</th>
            <th>CPU</th>
            <th>HDD</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>up to 50</td>
            <td>2‚Äì4 GB</td>
            <td>4</td>
            <td>100 GB</td>
          </tr>
          <tr>
            <td>up to 100</td>
            <td>4‚Äì8 GB</td>
            <td>8</td>
            <td>150 GB</td>
          </tr>
          <tr>
            <td>up to 500</td>
            <td>8‚Äì16 GB</td>
            <td>8</td>
            <td>200 GB</td>
          </tr>
        </tbody>
      </table>

      <h2 data-anchords="manual-installation">Manual installation</h2>
      <span>Manual installation does not use Docker or Windows installer. It is suitable for
        complex cases where you need to fine-tune all components.</span>
      <p>Path to the current configuration file ‚Äî
        <span>C:\inetpub\wwwroot\app\config\config.ini</span>
      </p>

      <h2 data-anchords="different-servers">2. Different servers for application and database
      </h2>
      <p>The database and the application server are distributed to different servers.</p>
      <ul>
        <li>RAM-1, CPU-1, HDD-1 ‚Äî application server.</li>
        <li>RAM-2, CPU-2, HDD-2 ‚Äî database.</li>
      </ul>
      <p>The MongoDB database can operate in a "cluster" mode.</p>
      <ol>
        <li>Master ‚Äî the main server;</li>
        <li>Replica ‚Äî a server with a copy of the data;</li>
        <li>Arbiter ‚Äî a special server that ensures the correctness of the voting process, when selecting the master
          base.</li>
      </ol>

      <h2 data-anchords="general-requirements">General description and requirements</h2>
      <p>The Passwork Setup installer helps you install Passwork on Windows and then keep it up to date.</p>
      <ul>
        <li>Operating systems ‚Äî Windows Server 2016, 2019, 2022</li>
        <li><a href="#">Microsoft .Net Framework 4.8</a> (download and install)</li>
      </ul>

      <h2 data-anchords="main-features">Main features</h2>
      <a href="#">Installation on a new server</a>
      <a href="#">Migration (if Passwork is already installed on your server)</a>
    </main>


    <div id="anchors" class="anchors"></div>
  </div>


</div>
</div>



<script>
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const root = document.documentElement;
  const btnLight = document.getElementById('theme-light');
  const btnDark = document.getElementById('theme-dark');

  // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–º–∏
  function setTheme(theme) {
    if (theme === 'dark') {
      root.classList.add('dark');
      localStorage.setItem('theme', 'dark');
      btnDark.style.display = 'none';
      btnLight.style.display = 'inline-block';
    } else {
      root.classList.remove('dark');
      localStorage.setItem('theme', 'light');
      btnLight.style.display = 'none';
      btnDark.style.display = 'inline-block';
    }
  }

  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞ –∞–±–æ —Å–∏—Å—Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    setTheme(savedTheme);
  } else {
    setTheme(prefersDark ? 'dark' : 'light');
  }

  // –û–±—Ä–æ–±–Ω–∏–∫–∏
  btnLight.addEventListener('click', () => setTheme('light'));
  btnDark.addEventListener('click', () => setTheme('dark'));


  // -----------------

document.addEventListener('DOMContentLoaded', () => {
  const anchorsContainer = document.getElementById('anchors');
  const headings = document.querySelectorAll('[data-anchords]');

  // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —è–∫–æ—Ä—ñ–≤
  headings.forEach(heading => {
    const anchorId = heading.getAttribute('data-anchords');
    heading.id = anchorId;

    const anchorLink = document.createElement('a');
    anchorLink.classList.add('anchors__item');
    anchorLink.href = `#${anchorId}`;
    anchorLink.textContent = heading.textContent;

    anchorsContainer.appendChild(anchorLink);
  });

  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —è–∫–æ—Ä—è
  function updateActiveAnchor() {
    const scrollY = window.scrollY;
    let currentSection = null;

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ scrollY –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —è–∫–æ—ó—Å—å —Å–µ–∫—Ü—ñ—ó
    headings.forEach(heading => {
      const sectionTop = heading.offsetTop;
      const sectionHeight = heading.offsetHeight;
      if (scrollY >= sectionTop - 50 && scrollY < sectionTop + sectionHeight) {
        currentSection = heading.getAttribute('data-anchords');
      }
    });

    // –Ø–∫—â–æ –Ω–µ –∑–Ω–∞–π—à–ª–∏ –∞–∫—Ç–∏–≤–Ω—É ‚Äî —à—É–∫–∞—î–º–æ –Ω–∞–π–±–ª–∏–∂—á—É
    if (!currentSection) {
      let closest = null;
      let minDistance = Infinity;

      headings.forEach(heading => {
        const distance = Math.abs(heading.offsetTop - scrollY);
        if (distance < minDistance) {
          minDistance = distance;
          closest = heading.getAttribute('data-anchords');
        }
      });

      currentSection = closest;
    }

    // –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É
    const activeLink = anchorsContainer.querySelector(`a[href="#${currentSection}"]`);
    if (activeLink) {
      const allAnchors = anchorsContainer.querySelectorAll('.anchors__item');
      allAnchors.forEach(anchor => anchor.classList.remove('anchors__item--active'));
      activeLink.classList.add('anchors__item--active');
    }
  }

  // –ö–ª—ñ–∫ –ø–æ —è–∫—ñ—Ä–Ω–æ–º—É –ø–æ—Å–∏–ª–∞–Ω–Ω—é
  anchorsContainer.addEventListener('click', (e) => {
    if (e.target && e.target.tagName === 'A') {
      e.preventDefault();

      const allAnchors = anchorsContainer.querySelectorAll('.anchors__item');
      allAnchors.forEach(anchor => anchor.classList.remove('anchors__item--active'));
      e.target.classList.add('anchors__item--active');

      const targetId = e.target.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      if (targetElement) {
        window.scrollTo({
          top: targetElement.offsetTop - 50,
          behavior: 'smooth'
        });
        history.pushState(null, null, `#${targetId}`);
      }
    }
  });

  // –ü—Ä–∏–≤'—è–∑–∫–∞ —Å–∫—Ä–æ–ª—É
  window.addEventListener('scroll', updateActiveAnchor);

  // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π —è–∫—ñ—Ä –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
  updateActiveAnchor();
});





</script>

@@include('partials/footer.html')