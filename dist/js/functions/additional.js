let prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches,root=document.documentElement,btnLight=document.getElementById("theme-light"),btnDark=document.getElementById("theme-dark");function setTheme(e){"dark"===e?(root.classList.add("dark"),localStorage.setItem("theme","dark"),btnDark.style.display="none",btnLight.style.display="inline-block"):(root.classList.remove("dark"),localStorage.setItem("theme","light"),btnLight.style.display="none",btnDark.style.display="inline-block")}let savedTheme=localStorage.getItem("theme");savedTheme?setTheme(savedTheme):setTheme(prefersDark?"dark":"light"),btnLight.addEventListener("click",()=>setTheme("light")),btnDark.addEventListener("click",()=>setTheme("dark")),document.addEventListener("DOMContentLoaded",()=>{let r=document.getElementById("anchors"),t=document.querySelectorAll("[data-anchors]");function e(){let o=window.scrollY,n=null;if(t.forEach(e=>{var t=e.offsetTop,a=e.offsetHeight;o>=t-50&&o<t+a&&(n=e.getAttribute("data-anchors"))}),!n){let a=null,r=1/0;t.forEach(e=>{var t=Math.abs(e.offsetTop-o);t<r&&(r=t,a=e.getAttribute("data-anchors"))}),n=a}var e=r.querySelector(`a[href="#${n}"]`);e&&(r.querySelectorAll(".anchors__item").forEach(e=>e.classList.remove("anchors__item--active")),e.classList.add("anchors__item--active"))}0!==t.length&&r&&(t.forEach(e=>{var t=e.getAttribute("data-anchors"),a=(e.id=t,document.createElement("a"));a.classList.add("anchors__item"),a.href="#"+t,a.textContent=e.textContent,r.appendChild(a)}),r.addEventListener("click",e=>{var t;e.target&&"A"===e.target.tagName&&(e.preventDefault(),r.querySelectorAll(".anchors__item").forEach(e=>e.classList.remove("anchors__item--active")),e.target.classList.add("anchors__item--active"),e=e.target.getAttribute("href").substring(1),t=document.getElementById(e))&&(window.scrollTo({top:t.offsetTop-50,behavior:"smooth"}),history.pushState(null,null,"#"+e))}),window.addEventListener("scroll",e),e())});